@import "tailwindcss";

@layer base {
  :root {
    /* Light */
    --color-text:        #0b0b0b;
    --color-background:  #ffffff;
    --color-surface:     #f7f7f7;
    --color-border:      rgba(0,0,0,.10);
    --color-muted:       #6b7280;
    --color-hover:       rgba(0,0,0,.06);
    --color-hover-strong:rgba(0,0,0,.12);

    --color-primary:     #0f0f0f;
    --color-onprimary:   #ffffff;

    --color-text-on-light: #0b0b0b; /* texto oscuro para fondos claros */
    --color-text-on-dark:  #ffffff; /* texto claro para fondos oscuros */

    /* navbar links */
    --color-navbar-link: #4b5563; /* gris 600 */

    /* elementos elevados (chips, tarjetas, nav activo) */
    --color-elevated:    #f3f3f3;

    /* Feedback tokens (light) */
    --color-success-bg:   #d4edda;
    --color-success-text: #155724;
    --color-error-bg:     #f8d7da;
    --color-error-text:   #721c24;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      /* Dark */
      --color-text:        #eaeaea;        /* texto claro en dark */
      --color-background:  #0b0b0c;
      --color-surface:     #0e0e0f;
      --color-border:      rgba(255,255,255,.16);
      --color-muted:       #a1a1aa;

      --color-hover:       rgba(255,255,255,.06);  
      --color-hover-strong:rgba(255,255,255,.12);

      --color-primary:     #eaeaea;
      --color-onprimary:   #0b0b0c;

      --color-text-on-light: #0b0b0b; /* fondos claros siguen usando texto oscuro */
      --color-text-on-dark:  #ffffff; /* fondos oscuros usan texto claro */

      /* navbar links en dark */
      --color-navbar-link: #e5e5e5;

      /* nav activo / elevated surfaces en dark */
      --color-elevated:    #1a1b1e;

      /* Feedback tokens (dark) */
      --color-success-bg:   color-mix(in srgb, #28a745 20%, transparent);
      --color-success-text: #b9f6ca; /* soft green text */
      --color-error-bg:     color-mix(in srgb, #dc3545 20%, transparent);
      --color-error-text:   #ffb4ab; /* soft red text */
    }
  }

  html, body {
    background: var(--color-background) !important;
    color: var(--color-text) !important;
    /* Prevent the browser viewport from scrolling directly. The React app (#root)
       will be the single scroll container to avoid double scrollbars. */
    height: 100%;
    overflow: hidden;
  }

  /* Make #root the primary vertical scroll container to avoid nested scrollbars */
  #root {
    /* Make the app root handle vertical scrolling */
    height: 100vh;
    min-height: 100vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  * {
    transition:
      background-color 0.2s ease,
      color 0.2s ease,
      border-color 0.2s ease;
  }
}

/* === Hero utilities (solo movimiento/recorte/posicionamiento) === */
.absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Recorte del "marco" animado (el polígono cambia con GSAP; este es el estado base) */
.mask-clip-path {
  /* estado base rectangular; GSAP hará la transición */
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
}

/* Tamaño/treatment del gran título del Hero (sin colores ni fuentes) */
.hero-heading {
  text-transform: uppercase;
  font-weight: 800;
  font-size: clamp(3rem, 8vw, 10rem);
  line-height: 1.5;
  letter-spacing: -0.02em;
}

/* (Opcional) Loader de 3 puntos si quieres mostrar "cargando" antes de que los videos estén listos */
.three-body {
  --uib-size: 35px;
  --uib-speed: 0.8s;
  position: relative;
  display: inline-block;
  height: var(--uib-size);
  width: var(--uib-size);
  animation: spin78236 calc(var(--uib-speed) * 2.5) infinite linear;
}
.three-body__dot { position: absolute; height: 100%; width: 30%; }
.three-body__dot:after {
  content: "";
  position: absolute;
  height: 0%;
  width: 100%;
  padding-bottom: 100%;
  border-radius: 50%;
  background-color: var(--color-primary); /* usa tu token existente */
}
.three-body__dot:nth-child(1) {
  bottom: 5%; left: 0; transform: rotate(60deg); transform-origin: 50% 85%;
}
.three-body__dot:nth-child(1)::after {
  bottom: 0; left: 0; animation: wobble1 var(--uib-speed) infinite ease-in-out;
  animation-delay: calc(var(--uib-speed) * -0.3);
}
.three-body__dot:nth-child(2) {
  bottom: 5%; right: 0; transform: rotate(-60deg); transform-origin: 50% 85%;
}
.three-body__dot:nth-child(2)::after {
  bottom: 0; left: 0; animation: wobble1 var(--uib-speed) infinite calc(var(--uib-speed) * -0.15) ease-in-out;
}
.three-body__dot:nth-child(3) { bottom: -5%; left: 0; transform: translateX(116.666%); }
.three-body__dot:nth-child(3)::after { top: 0; left: 0; animation: wobble2 var(--uib-speed) infinite ease-in-out; }
@keyframes spin78236 { 0% { transform: rotate(0); } 100% { transform: rotate(360deg); } }
@keyframes wobble1 {
  0%,100% { transform: translateY(0%) scale(1); opacity: 1; }
  50% { transform: translateY(-66%) scale(.65); opacity: .8; }
}
@keyframes wobble2 {
  0%,100% { transform: translateY(0%) scale(1); opacity: 1; }
  50% { transform: translateY(66%) scale(.65); opacity: .8; }
}



/* Estilos para Componente AnimatedTitle y About */

.animated-title {
  text-transform: uppercase;
  font-weight: 800;
  line-height: .9;
  display: flex;
  flex-direction: column;
  gap: .25rem;
  padding-left: clamp(1rem, 5vw, 4rem);
  padding-right: clamp(1rem, 5vw, 4rem);
  font-size: clamp(2.5rem, 6vw, 6rem);
  color: var(--color-text); /* hereda tu token de color */
}

.animated-title .animated-word {
  opacity: 0;
  transform: translate3d(0, 24px, 0) rotateY(12deg) rotateX(6deg);
  transform-origin: 50% 50% -150px;
  will-change: opacity, transform;
  display: inline-block;
}

.about-subtext {
  position: static;
  margin-top: 1rem;
  margin-left: auto;
  margin-right: auto;
  text-align: center;
  max-width: 34rem; /* puedes cambiar a 70ch si prefieres */
}

/* Imagen (o video) dentro del marco: centrada y sin deformación */
.about-image img,
.about-image video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Contorno al título del Hero */
.hero-heading.stroke {
  /* contorno sutil y cross-browser */
  -webkit-text-stroke: 1.6px rgba(0,0,0,.75);
  paint-order: stroke fill;
  /* fallback si el navegador no soporta stroke: */
  text-shadow:
    0 1px 1px rgba(0,0,0,.45),
    0 3px 16px rgba(0,0,0,.40);
}

/* Subtítulo legible sobre video */
.hero-sub {
  font-weight: 500;
  line-height: 1.25;
  font-size: clamp(1rem, 2.2vw, 1.125rem);
  /* ligera sombra para contraste */
  text-shadow:
    0 1px 1px rgba(0,0,0,.55),
    0 2px 10px rgba(0,0,0,.35);
}

.bento-title {
  text-transform: uppercase;
  font-weight: 800;
  font-size: clamp(2rem, 5vw, 4rem);
  letter-spacing: -0.02em;
  line-height: 0.95;
}

/* Brillo superior animado */
@keyframes glowMove {
  0%, 100% { opacity: .3; transform: translateX(-30%); }
  50% { opacity: .9; transform: translateX(30%); }
}
.animate-glow {
  animation: glowMove 6s ease-in-out infinite;
}

/* Enlaces e íconos refinados */
.footer-link {
  color: var(--color-navbar-link);
  position: relative;
  transition: color .25s ease, transform .25s ease;
}
.footer-link:hover {
  color: var(--color-text);
  transform: translateX(3px);
}
.footer-link::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  height: 1px; width: 0;
  background: currentColor;
  transition: width .25s ease;
}
.footer-link:hover::after { width: 100%; }

.footer-icon {
  display: inline-flex;
  padding: .6rem;
  border-radius: 9999px;
  background: var(--color-hover);
  color: var(--color-text);
  transition: transform .25s ease, background .25s ease, box-shadow .25s ease;
}
.footer-icon:hover {
  transform: scale(1.15) rotate(5deg);
  background: var(--color-primary);
  color: var(--color-onprimary);
  box-shadow: 0 0 12px rgba(255,255,255,0.2);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fadeIn {
  animation: fadeIn 0.6s ease-out both;
}

@keyframes pulse-slow {
  0%, 100% { opacity: 0.35; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.05); }
}
.animate-pulse-slow {
  animation: pulse-slow 8s ease-in-out infinite;
}
